<?xml version="1.0" encoding="utf-8"?>
<!-- 
AndroidManifest_addition.xml 
Dodatkowe wpisy do manifestu aby zapobiec minimalizowaniu aplikacji
-->

<!-- Dodaj do activity głównej aplikacji -->
<activity
    android:name="org.kivy.android.PythonActivity"
    android:label="@string/app_name"
    android:configChanges="keyboardHidden|orientation|screenSize|screenLayout|uiMode"
    android:screenOrientation="portrait"
    android:launchMode="singleTask"
    android:finishOnTaskLaunch="false"
    android:clearTaskOnLaunch="false"
    android:stateNotNeeded="false"
    android:excludeFromRecents="false"
    android:exported="true">
    
    <!-- Intent filter dla głównego uruchomienia -->
    <intent-filter>
        <action android:name="android.intent.action.MAIN" />
        <category android:name="android.intent.category.LAUNCHER" />
    </intent-filter>
    
    <!-- Intent filter dla przywracania z background -->
    <intent-filter>
        <action android:name="android.intent.action.VIEW" />
        <category android:name="android.intent.category.DEFAULT" />
    </intent-filter>
</activity>

<!-- Dodatkowe uprawnienia aby aplikacja nie była zabijana -->
<uses-permission android:name="android.permission.WAKE_LOCK" />
<uses-permission android:name="android.permission.DISABLE_KEYGUARD" />
<uses-permission android:name="android.permission.FOREGROUND_SERVICE" />
<uses-permission android:name="android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS" />

<!-- Aplikacja w pełnym ekranie -->
<application
    android:allowBackup="true"
    android:hardwareAccelerated="true"
    android:theme="@android:style/Theme.NoTitleBar.Fullscreen"
    android:persistent="true"
    android:killAfterRestore="false">
</application>